#ifndef MY_ALLOCATOR_H
#define MY_ALLOCATOR_H

#include <stddef.h>

/**
 * @file my_allocator.h
 * @brief Кастомный аллокатор памяти для блоков фиксированного размера.
 *
 * Аллокатор оптимизирован для работы с блоками двух типов: 15 байт и 180 байт.
 * Запросы на выделение памяти других размеров отклоняются.
 */

/**
 * @brief Выделяет блок памяти заданного размера.
 *
 * Функция ищет свободный блок в соответствующем пуле (15 или 180 байт).
 * Для эффективной работы на 32-битных системах блок 15 байт может быть
 * выровнен до 16 байт.
 *
 * @param size Размер требуемой памяти в байтах (поддерживаются только 15 и 180).
 * @return void* Указатель на выделенную память или NULL, если размер не поддерживается
 *               или свободные блоки закончились.
 */
void* my_malloc(size_t size);

/**
 * @brief Освобождает ранее выделенный блок памяти.
 *
 * Функция автоматически определяет, к какому пулу принадлежит указатель,
 * и возвращает блок в список свободных.
 *
 * @param ptr Указатель на блок памяти, полученный через my_malloc.
 *            Если передано значение NULL, функция ничего не делает.
 */
void my_free(void* ptr);

#endif
